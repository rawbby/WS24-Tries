#!/usr/bin/env python3
import matplotlib.pyplot as plt
import pandas as pd


def plot_operation_mix():
    # Read the CSV file generated by your benchmark
    df = pd.read_csv("plot_operation_mix.csv")

    plt.figure(figsize=(10, 6))

    # For each trie variant, plot lookup_ratio vs query_time_ns
    for variant in df["variant"].unique():
        sub = df[df["variant"] == variant]
        plt.plot(sub["lookup_ratio"], sub["query_time_ns"], marker="o", label=variant)

    plt.xlabel("Lookup Ratio (%)")
    plt.ylabel("Query Time (ns)")
    plt.title("Operation Mix: Query Time vs. Lookup Ratio")
    plt.legend()
    plt.grid(True)

    # Save the plot as a PNG file
    output_filename = "plot_operation_mix.png"
    plt.savefig(output_filename)
    plt.close()
    print(f"Plot saved as {output_filename}")


def main():
    plot_operation_mix()


if __name__ == "__main__":
    main()
